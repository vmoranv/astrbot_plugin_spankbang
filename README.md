# AstrBot SpankBang 插件

AstrBot 的 SpankBang 视频搜索插件，支持搜索视频、获取视频信息、频道信息、演员信息和创作者信息，并自动对封面进行打码处理。

## 功能特性

- 🔍 **视频搜索** - 支持关键词搜索，可按筛选、画质、时长、日期过滤
- 📹 **视频详情** - 通过视频ID获取视频详细信息
- 📺 **频道信息** - 获取频道的基本信息和统计数据
- ⭐ **演员信息** - 获取演员的基本信息和统计数据
- 🎨 **创作者信息** - 获取创作者的基本信息和统计数据
- 🖼️ **封面打码** - 自动对封面图片进行马赛克处理，可配置打码程度
- 🌐 **代理支持** - 支持 HTTP/HTTPS/SOCKS5 代理

## 安装

1. 将插件文件夹放入 AstrBot 的插件目录
2. 安装依赖：

```bash
pip install -r requirements.txt
```

3. 在 AstrBot 中加载插件

## 配置

在插件配置中可以设置以下选项：

| 配置项 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| `mosaic_level` | int | 50 | 封面打码程度 (0-100)，数值越大打码越严重 |
| `max_results` | int | 5 | 搜索结果最大数量 (1-20) |
| `enable_mosaic` | bool | true | 是否启用封面打码 |
| `proxy` | string | "" | 代理服务器地址 |

### 代理配置示例

- **HTTP 代理**: `http://127.0.0.1:7890`
- **HTTPS 代理**: `https://127.0.0.1:7890`
- **SOCKS5 代理**: `socks5://127.0.0.1:1080`

## 使用方法

### 1. 搜索视频

**命令**: `/sb_search <关键词> [页数] [筛选] [画质] [时长] [日期]`

**别名**: `/sb`, `/spankbang`

**参数说明**:
- **筛选**: `trending`(热门), `new`(最新), `featured`(精选), `popular`(流行)
- **画质**: `hd`(720p), `fhd`(1080p), `uhd`(4K)
- **时长**: `10`(10分钟), `20`(20分钟), `40`(40分钟以上)
- **日期**: `d`(今天), `w`(本周), `m`(本月), `y`(今年)

**示例**:
```
/sb_search keyword
/sb_search keyword 2
/sb_search keyword 1 new hd 10 d
```

### 2. 获取视频信息

**命令**: `/sb_video <视频ID>`

**示例**:
```
/sb_video 95s5u
```

### 3. 获取频道信息

**命令**: `/sb_channel <频道ID>`

**示例**:
```
/sb_channel xxx
```

### 4. 获取演员信息

**命令**: `/sb_pornstar <演员ID>`

**示例**:
```
/sb_pornstar xxx
```

### 5. 获取创作者信息

**命令**: `/sb_creator <创作者ID>`

**示例**:
```
/sb_creator xxx
```

## 依赖项

- `spankbang_api>=0.1.0` - SpankBang API 客户端
- `aiohttp>=3.8.0` - 异步 HTTP 客户端
- `Pillow>=9.0.0` - 图像处理库
- `aiohttp-socks>=0.7.0` - SOCKS 代理支持

## 免责声明

本插件仅供学习和研究使用。使用本插件所产生的一切后果由使用者自行承担。

### 重要提示

1. **内容警告**: 本插件访问的内容可能包含成人内容，请确保您已达到法定年龄。
2. **合法使用**: 请遵守您所在国家/地区的法律法规，仅在合法合规的情况下使用本插件。
3. **隐私保护**: 本插件不会收集或存储任何用户数据。
4. **内容审核**: 本插件不对搜索结果的内容负责，所有内容均来自 SpankBang 网站。
5. **使用风险**: 使用本插件可能存在网络访问风险，请确保您的网络环境安全。
6. **代理使用**: 如需使用代理，请确保代理服务器的合法性和安全性。

### 开发者声明

- 本插件仅作为技术演示和学习目的开发
- 开发者不对使用本插件造成的任何直接或间接损失负责
- 本插件不鼓励或支持任何非法活动
- 请尊重内容创作者的版权和知识产权